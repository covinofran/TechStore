<nav class="bg-white shadow sticky top-0 z-50">
  <div class="container mx-auto px-4 flex items-center justify-between py-4">
    <!-- Logo -->
    <a href="index.html" class="text-black font-bold text-xl">TechStore</a>

    <!-- Boton para colapsar menu mobile -->
    <button
      id="menu-toggle"
      class="lg:hidden text-gray-600 hover:text-black focus:outline-none"
      aria-label="Toggle menu"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16m-7 6h7"
        ></path>
      </svg>
    </button>

    <!-- Menu para escritorio -->
    <div id="menu" class="hidden lg:flex lg:items-center space-x-6">
      <a
        href="index.html#products-section"
        class="text-gray-700 hover:text-black font-medium"
        >Productos</a
      >
      <a
        href="index.html#categories-section"
        class="text-gray-700 hover:text-black font-medium"
        >Categorías</a
      >
      <a
        href="index.html#offers-section"
        class="text-gray-700 hover:text-black font-medium"
        >Promociones</a
      >

      <!-- Boton del carrito -->
      <button
        id="cart-button"
        class="relative flex items-center text-gray-600 hover:text-black focus:outline-none"
        data-bs-toggle="offcanvas"
        data-bs-target="#cartOffcanvas"
        aria-controls="cartOffcanvas"
      >
        <i class="bi bi-cart-fill text-xl"></i>
        <span
          id="cart-count"
          class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"
        >
          0
        </span>
      </button>
    </div>
  </div>

  <!-- Menu mobile -->
  <div
    id="mobile-menu"
    class="hidden lg:hidden bg-gray-100 px-4 pb-4 space-y-2 transition-all duration-300 ease-in-out"
  >
    <a
      href="index.html#products-section"
      class="block text-gray-700 hover:text-black font-medium"
      >Productos</a
    >
    <a
      href="index.html#categories-section"
      class="block text-gray-700 hover:text-black font-medium"
      >Categorías</a
    >
    <a
      href="index.html#offers-section"
      class="block text-gray-700 hover:text-black font-medium"
      >Promociones</a
    >
  </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");

    // Abrir/cerrar menu mobile al hacer clic en el boton de menu
    menuToggle.addEventListener("click", (e) => {
      e.stopPropagation(); // Prevenir el cierre inmediato al hacer clic
      mobileMenu.classList.toggle("hidden"); // Alternar visibilidad del menú
    });

    // Cerrar menu mobile si se hace clic fuera
    document.addEventListener("click", (event) => {
      if (
        !mobileMenu.contains(event.target) &&
        !menuToggle.contains(event.target) &&
        !mobileMenu.classList.contains("hidden") // Solo cerrar si esta visible
      ) {
        mobileMenu.classList.add("hidden");
      }
    });

    // Cerrar menu mobile al hacer clic en un enlace dentro del menu
    mobileMenu.querySelectorAll("a").forEach((link) => {
      link.addEventListener("click", () => {
        mobileMenu.classList.add("hidden"); // Cerrar menú
      });
    });
  });
</script>
